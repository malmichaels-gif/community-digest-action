# community-digest-action

A weekly heartbeat for your repo.

Posts a clean weekly digest to **GitHub Discussions** so your community stays in the loop without you playing newsletter editor.

- **No-AI required** (default)
- **Anti-spam**: skips weeks with low activity
- **Drop-in** GitHub Action (copy/paste and go)
- Shoutouts for new contributors (because people are the point)

---

## What it posts

**Weekly Digest â€” 2026-01-14**

- Merged PRs (top X)
- New contributors (first-time contributors)
- Optional: Issues opened/closed, "Help wanted", releases (v0.2+)

> Bonus: it ends with a subtle "Generated by..." link because... yeah, virality is real.

---

## Quickstart (5 minutes)

1) Create a GitHub Discussion category where you want the digest to land
Example: `Weekly Updates`

2) Add this workflow:

```yaml
name: Weekly Community Digest

on:
  schedule:
    - cron: "0 16 * * 1" # Mondays 16:00 UTC (pick your time)
  workflow_dispatch: {}

permissions:
  contents: read
  pull-requests: read
  issues: read
  discussions: write

jobs:
  digest:
    runs-on: ubuntu-latest
    steps:
      - uses: your-org/community-digest-action@v0
        with:
          discussion_category: "Weekly Updates"
```

That's it. Next run posts a digest.

---

## Configuration

### Inputs

| Input                  | Default    | Description                                      |
| ---------------------- | ---------- | ------------------------------------------------ |
| `discussion_category`  | (required) | Discussion category name to post into            |
| `since_days`           | `7`        | Lookback window                                  |
| `max_prs`              | `10`       | Max merged PRs to include                        |
| `max_new_contributors` | `10`       | Max first-time contributors to shout out         |
| `min_activity`         | `3`        | Skip posting if activity is below this threshold |
| `dry_run`              | `false`    | Don't post, just log the markdown                |
| `footer_star_link`     | `true`     | Add "Generated by..." footer with a star link    |

### Example (anti-spam tuned)

```yaml
- uses: your-org/community-digest-action@v0
  with:
    discussion_category: "Weekly Updates"
    since_days: "7"
    min_activity: "5"
    max_prs: "7"
    max_new_contributors: "7"
```

---

## How it decides to skip a week

We calculate an "activity count" roughly like:

* merged PRs + new contributors (+ v0.2: issues/release activity)

If the count is `< min_activity`, we skip posting.

No one needs a weekly "nothing happened" post. That's how tools get removed.

---

## Permissions

This action needs:

* `pull-requests: read` to list merged PRs
* `contents: read` for repo metadata
* `discussions: write` to post the digest

It does **not** need admin permissions. Keep it boring.

---

## Privacy & safety

* The action never reads secrets.
* `dry_run` is there so you can see output before posting.
* We intentionally keep output **high-level** (titles + links), not giant quoted bodies.

---

## Contributing

Please do. See [CONTRIBUTING.md](CONTRIBUTING.md).

---

## Roadmap (kept intentionally small)

* v0.2: optional Issues mode
* v0.2: optional "Help wanted" section
* v0.3: optional AI "voice" (still works without AI)
* v1.0: stable config + formatting guarantees

---

## License

MIT.
